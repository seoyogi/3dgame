<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>YutaAI</title>
<style>
body{font-family:sans-serif;background:#111;color:#eee;margin:0;padding:0;}
#chat{height:90vh;overflow-y:auto;padding:10px;}
#inputBox{position:fixed;bottom:0;width:100%;display:flex;}
#inputBox input{flex:1;padding:10px;font-size:16px;}
#inputBox button{padding:10px;font-size:16px;}
.message{margin:5px 0;}
.user{color:#0f0;}
.ai{color:#0af;}
</style>
</head>
<body>
<div id="chat"></div>
<div id="inputBox">
  <input id="text" placeholder="質問してね"/>
  <button onclick="send()">送信</button>
</div>
<script>
async function send(){
  const text=document.getElementById("text").value;
  if(!text) return;
  addMessage('user',text);
  document.getElementById("text").value='';
  const res=await fetch('/ask',{method:'POST',body:JSON.stringify({q:text}),headers:{'Content-Type':'application/json'}});
  const data=await res.json();
  addMessage('ai',data.answer);
}

function addMessage(who,text){
  const chat=document.getElementById("chat");
  const div=document.createElement('div');
  div.className=who;
  div.textContent=text;
  chat.appendChild(div);
  chat.scrollTop=chat.scrollHeight;
}
</script>
</body>
</html>
